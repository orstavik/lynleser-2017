<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">

<dom-module id="lynleser-book">
  <template>
    <style>
			app-header-layout {
				display: block;
				box-sizing: border-box;
				position: relative;
				padding: 20vh 0 10vh;
				background-color: var(--paper-brown-100);
				z-index: 0;
			}
			app-header {
        user-select: none;
				/*--app-header-background-rear-layer: {*/
					background-color: var(--paper-brown-500);
				/*};*/
			}
			[main-title] {
				margin: 8px;
				font-size: 20px;
				font-weight: 500;
				color: rgba(255,255,255,1);
			}
			#bookBox {
				display: flex;
				box-sizing: border-box;
				width: 100%;
				max-width: 750px;
				min-height: 100vh;
				position: relative;
				margin: auto;
				padding: 16px;
				border-radius: 2px;
				background-color: white;
				text-align: justify;
			}
			#bookBody body {
				width: 100%;
			}
    </style>

		<app-header-layout id="headerLayout">

			<app-header slot="header" reveals effects="waterfall fade-background">

				<app-toolbar class="top-toolbar">
					<slot></slot>
					<div main-title>[[book.title]]</div>
				</app-toolbar>

			</app-header>

			<paper-material id="bookBox" elevation=1></paper-material>

    </app-header-layout>

  </template>

  <script>
    class LynleserBook extends Polymer.Element {
      static get is() { return 'lynleser-book'; }
      static get properties() {
        return {
					book: {
						type: Object,
						observer: "_pasteText"
					},
					active: Boolean
				}
      }

			_pasteText(book) {
				if (book && book.document) {
					if (this.$.bookBox.querySelector("body"))
						this.$.bookBox.removeChild(this.$.bookBox.querySelector("body"));
					var body = book.document.body.cloneNode(true);
					this.$.bookBox.appendChild(body);
				}
			}
    }
    window.customElements.define(LynleserBook.is, LynleserBook);
  </script>
</dom-module>