<dom-module id="lynleser-auth">
  <template>
    <style>
      :host { display: block; }
      button[hidden] { visibility: hidden; }
    </style>

    <h2>Welcome: [[user.displayName]]</h2>
    <button id="signin" hidden="[[_toBool(user)]]" on-click="_signin">Sign In</button>
    <button id="signout" hidden="[[!_toBool(user)]]" on-click="_signout">Sign Out</button>

  </template>
  <script>
    class LynleserAuth extends Polymer.Element {
      static get is() {
        return "lynleser-auth";
      }

      static get properties() {
        return {
            user: Object,
        };
      }

      _signin(e){
        this.dispatchEvent(new CustomEvent("sign-in", {composed: true, bubbles: true, detail: null}));
      }

      _signout(e){
        this.dispatchEvent(new CustomEvent("sign-out", {composed: true, bubbles: true, detail: null}));
      }
      
      _toBool(obj){
        return !!obj;
      }
    }
    customElements.define(LynleserAuth.is, LynleserAuth);
  </script>
</dom-module>