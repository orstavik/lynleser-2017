<link rel="import" href="joystick-button.html">

<dom-module id="lynleser-joystick">
  <template>
    <style>
      :host { display: block; }
    </style>

    <joystick-button id="joystick"
                     frequency-ms="500"
                     sensitivity="10"
                     
                     on-pull="_joystickPull"
                     on-tap="_joystickTap"></joystick-button>

  </template>
  <script>
    class LynleserJoystick extends Polymer.Element {
      static get is() {
        return "lynleser-joystick";
      }

      static get properties() {
        return {
            myProp: {
              type: Array,
              observer: "myObserver"
            }
        };
      }

      _joystickPull(e) {
        e.stopPropagation();
        let cmd = e.detail.direction == "y" ? "speed-change" : "word-wider";
        this._fire(cmd, e.detail.force);
      }

      _joystickTap(e) {
        e.stopPropagation();
        this._fire("start-stop", null);
      }

      _fire(name, value){
        this.dispatchEvent(new CustomEvent(name, {composed: true, bubbles: true, detail: value}));
      }
    }
    customElements.define(LynleserJoystick.is, LynleserJoystick);
  </script>
</dom-module>