<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="lynleser-auth.html">
<link rel="import" href="lynleser-firebase.html">
<link rel="import" href="lynleser-booklist.html">

<dom-module id="my-app">
  <template>
    <style>
      :host {
        display: block;
        width: 100vw;
        height: 100vh;
        background-color: #00acc1;
      }
    </style>


    <lynleser-firebase id="firebase"
                       system-books="{{systemBooks}}"
                       server-user="{{serverUser}}"
                       user-data="{{userData}}"></lynleser-firebase>

    <lynleser-auth user="[[serverUser]]" on-sign-in="_signIn" on-sign-out="_signOut"></lynleser-auth>
    <lynleser-booklist system-books="[[systemBooks]]" user-books="[[userData.books]]"></lynleser-booklist>

  </template>

  <script>

    class MyApp extends Polymer.Element {
      static get is() {
        return "my-app";
      }

      static get config() {
        return {
          properties: {
            serverUser: Object,
            systemBooks: Array,
            userData: Object,
          }
        }
      }

      _signIn(e) {
        this.$.firebase.signIn();
      }

      _signOut(e) {
        this.$.firebase.signOut();
      }
    }
    customElements.define(MyApp.is, MyApp);
  </script>
</dom-module>