<dom-module id="lynleser-booklist">
  <template>
    <style>
      :host { display: block; }
      div { margin-bottom: 20px; }
    </style>

    <h2>Books</h2>
    <template is="dom-repeat" items="[[data.openedBooks]]">
      <div class="systemBook" data-filename$="[[item.filename]]" data-key$="[[item.key]]" on-click="_clickBook">
        [[item.name]] (([[item.position]])) => [[item.filename]]
      </div>
    </template>
    <hr>
    <template is="dom-repeat" items="[[data.closedBooks]]">
      <div class="systemBook" data-filename$="[[item.filename]]" data-key$="[[item.key]]" on-click="_clickBook">
        [[item.name]] => [[item.filename]]
      </div>
    </template>

  </template>
  <script>
    class LynleserBooklist extends Polymer.Element {
      static get is() {
        return "lynleser-booklist";
      }


      static get properties() {
        return {
          data: Object
        };
      }

      _clickBook(e) {
        let detail = {key: e.target.dataset.key, fileName: e.target.dataset.filename};
        this.dispatchEvent(new CustomEvent("select-book", {composed: true, bubbles: true, detail: detail}));
      }
    }
    customElements.define(LynleserBooklist.is, LynleserBooklist);
  </script>
</dom-module>