<dom-module id="lynleser-booklist">
  <template>
    <style>
      :host { display: block; }
      div { margin-bottom: 20px; }
    </style>

    <h2>User books</h2>
    <template is="dom-repeat" items="[[books.userBooks]]">
      <div class="systemBook" data-filename$="[[item.filename]]" on-click="_clickSystemBook">
        [[item.key]], [[item.name]], [[item.filename]], [[item.position]]
      </div>
    </template>
    <h2>All books</h2>
    <template is="dom-repeat" items="[[books.systemBooks]]">
      <div class="systemBook" data-filename$="[[item.filename]]" on-click="_clickSystemBook">
        [[item.key]], [[item.name]], [[item.filename]], [[item.position]]
      </div>
    </template>

  </template>
  <script>
    class LynleserBooklist extends Polymer.Element {
      static get is() {
        return "lynleser-booklist";
      }


      static get properties() {
        return {
          books: Object
        };
      }

      _clickSystemBook(e) {
        let detail = e.target.dataset.filename;
        this.dispatchEvent(new CustomEvent("select-book", {composed: true, bubbles: true, detail: detail}));
      }
    }
    customElements.define(LynleserBooklist.is, LynleserBooklist);
  </script>
</dom-module>